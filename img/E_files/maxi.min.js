define("troopjs-utils/unique",[],function(){"use strict";return function(e){var t,r,n,i,o=this,a=o.length;if(e)e:for(r=i=0;r<a;r++){for(t=o[r],n=0;n<r;n++)if(!0===e.call(o,t,[n]))continue e;o[i++]=t}else e:for(r=i=0;r<a;r++){for(t=o[r],n=0;n<r;n++)if(t===o[n])continue e;o[i++]=t}return o.length=i,i}}),define("troopjs-core/component/factory",["troopjs-utils/unique","poly/object"],function(e){"use strict";function t(){return r.apply(this,arguments)()}function r(){var e=[this];return p.apply(e,arguments),u.apply(null,e)}function n(e,t){var r={};r[j]={value:e},r[w]={value:t},Object.defineProperties(this,r)}function i(e){return new n(e,i[w])}function o(e){return new n(e,o[w])}function a(e){return new n(e,a[w])}function s(){var e=this,t=e[c];return g in t?t[g]:d.call(e)}function u(){function i(){var e,t=this instanceof i?this:Object.create(B),r=arguments;for(Object.defineProperty(t,x,{value:i}),e=0;e<f;e++)r=_[e].apply(t,r)||r;return t}var o,a,u,f,d,g,j,O,T,I,R,P,D,H,M=[],L=arguments,X=L[y],_=[],B={},C={},F={};for(O=0;O<X;O++){if(typeof(u=L[O])===v){if(q in u?p.apply(_,u[q]):p.call(_,u),E in u&&h.apply(M,u[E]),u===u[c][x])continue;u=u[c]}for(T=0,j=(g=Object.getOwnPropertyNames(u))[y];T<j;T++)d=g[T],(P=A.exec(d))?((o={})[k]=I=P[1],o[N]=P[2],o[z]=R=P[3],o[$]=I+"/"+R,o[S]=u[d],h.call(M,o)):(D=(H=Object.getOwnPropertyDescriptor(u,d))[S],C[d]=D instanceof n?D[w](C[d]||{enumerable:!0,configurable:!0,writable:!0}):H)}for(Object.defineProperties(B,C),f=e.call(_),a=e.call(M),O=0;O<a;O++)I=(o=M[O])[k],R=o[z],d=o[$],R=R in(I=I in M?M[I]:M[I]=[])?I[R]:I[R]=M[d]=[],I[I[y]]=R[R[y]]=o;return F[c]={value:B},F[q]={value:_},F[E]={value:M},F[l]={value:s},F[b]={value:r},F[m]={value:t},Object.defineProperties(i,F),i}var c="prototype",l="toString",f=Array[c],p=f.push,h=f.unshift,d=Object[c][l],v="function",g="displayName",y="length",b="extend",m="create",w="decorate",j="decorated",x="constructor",q="constructors",E="specials",k="group",S="value",N="features",z="type",$="name",A=/^(\w+)(?::(.+?))?\/([-_./\d\w\s]+)$/,O=function(){},T={};return i[w]=function(e){var t=this[j],r=e[S];return e[S]=r?function(){var e=this,n=arguments;return r.apply(e,n=t.apply(e,n)||n)}:t,e},o[w]=function(e){var t=e[S],r=this[j];return e[S]=t?function(){var e=this,n=arguments;return r.apply(e,n=t.apply(e,n)||n)}:r,e},a[w]=function(e){return e[S]=this[j](e[S]||O),e},T[m]={value:function(){return u.apply(null,arguments)()}},T.before={value:i},T.after={value:o},T.around={value:a},Object.defineProperties(u,T),u}),define("troopjs-utils/merge",["poly/object"],function(){"use strict";var e=Array.prototype,t=e.concat,r=Object.prototype,n=r.toString,i=n.call(r),o=n.call(e);return function a(e){var r,s,u,c,l,f,p,h,d,v,g=this;for(u=0,l=arguments.length;u<l;u++)for(e=arguments[u],c=0,f=(s=Object.keys(e)).length;c<f;c++)p=e[r=s[c]],h=g[r],r in g?(d=n.call(p),(v=n.call(h))===i&&d===i?a.call(h,p):g[r]=v===o&&d===o?t.call(h,p):p):g[r]=p;return g}}),define("troopjs-core/component/base",["./factory","when","troopjs-utils/merge"],function(e,t,r){"use strict";var n=Array.prototype,i=n.push,o=n.slice,a="value",s=0,u=0;return e(function(){var e=this;e.instanceCount=++s,e.configuration={}},{instanceCount:s,displayName:"core/component/base",configure:function(){return r.apply(this.configuration,arguments)},signal:function(e){function r(e){return++p>-1&&(f[p]=e),(n=c[l++])?t(n[a].apply(i,s),r):t.resolve(f)}var n,i=this,s=o.call(arguments,1),u=i.constructor.specials,c="sig"in u&&u.sig[e]||[],l=0,f=[],p=-2;return r(s)},start:function(){var e=this,t=e.signal,r=["initialize"];return e.phase="initialize",i.apply(r,arguments),t.apply(e,r).then(function(i){return r[0]=e.phase="start",t.apply(e,r).then(function(t){return e.phase="started",n.concat(i,t)})})},stop:function(){var e=this,t=e.signal,r=["stop"];return e.phase="stop",i.apply(r,arguments),t.apply(e,r).then(function(i){return r[0]=e.phase="finalize",t.apply(e,r).then(function(t){return e.phase="finalized",n.concat(i,t)})})},task:function(e,r){var n=this,i=t.promise(e).ensure(function(){i.finished=new Date});return i.id=++u,i.context=n,i.started=new Date,i.name=r,n.signal("task",i).then(function(){return i})},toString:function(){var e=this;return e.displayName+"@"+e.instanceCount}})}),define("troopjs-core/logger/console",["../component/base","poly/function"],function(e){"use strict";function t(){}var r=console;return e.create({displayName:"core/logger/console"},r?{log:r.log.bind(r),warn:r.warn.bind(r),debug:r.debug.bind(r),info:r.info.bind(r),error:r.error.bind(r)}:{log:t,warn:t,debug:t,info:t,error:t})}),define("troopjs-core/event/emitter",["../component/base","when","poly/array"],function(e,t){"use strict";function r(e,r,n){var i=0,o=(n=n||[])[u],c=o-1,l=function(u){var h,v;for(c++>=o&&(n[c]=u);(v=e[i++])&&(h=v[a])&&d.test(h[p]););return v?(v[f]=r)===r&&t(v[s].apply(h,u),l):t.resolve(n)};return l}function n(e,r,n){n=n||{};var u,c=0,l=function(h){var v,g;for(h!==i&&(n[o]=u=h);(g=e[c++])&&(v=g[a])&&d.test(v[p]););return g?(g[f]=r)===r&&t(g[s].apply(v,u),l):t.resolve(u)};return l}var i,o="memory",a="context",s="callback",u="length",c="head",l="next",f="handled",p="phase",h=/^(\w+)(?::(pipeline|sequence))/,d=/^(?:initi|fin)alized?$/,v=Array.prototype.slice;return e.extend(function(){this.handlers={}},{displayName:"core/event/emitter",on:function(e,t,r){var n,o,u,p=this,h=arguments,d=p.handlers,v=2;if((r=h[v++])===i)throw new Error("no callback provided");if(e in d){d=d[e],(n={})[s]=r,n[a]=t,u="tail"in d?d.tail[l]=n:d[c]=n;for(;(r=h[v++])!==i;)u=u[l]=n={},n[s]=r,n[a]=t;d.tail=u}else{for(o=u=n={},n[s]=r,n[a]=t;(r=h[v++])!==i;)u=u[l]=n={},n[s]=r,n[a]=t;(d=d[e]={})[c]=o,d.tail=u,d[f]=0}return p},off:function(e,t,r){var n,i,o,f,p,h=this,d=arguments,v=d[u],g=h.handlers;if(!(e in g))return h;if(g=g[e],!(c in g))return h;n=g[c];do{if(!t||!n[a]||n[a]===t){for(p=!1,f=2;f<v;f++)if(n[s]===d[f]){p=!0;break}if(p)continue}i?o=o[l]=n:i=o=n}while(n=n[l]);return i&&o?(g[c]=i,g.tail=o,delete o[l]):(delete g[c],delete g.tail),h},emit:function(e){var i,a,s,u,p,d=this,g=v.call(arguments,1),y=d.handlers;if(null!==(u=h.exec(e))&&(e=u[1],p=u[2]),e in y){if(y=y[e],c in y){a=[],s=0,i=y[c];do{a[s++]=i}while(i=i[l]);return"sequence"===p?r(a,++y[f])(g):n(a,++y[f],y)(g)}}else y[e]=y={},y[f]=0;return y[o]=g,t.resolve(g)},reemit:function(e,i,p,d){var v,g,y,b,m,w,j,x,q=this,E=arguments,k=E[u],S=q.handlers;if(null!==(m=h.exec(e))&&(e=m[1],w=m[2]),e in S&&(S=S[e],o in S)){if(!(c in S))return t.resolve(S[o]);y=[],b=0,v=S[c],g=S[f];do{if(!p||!v[a]||v[a]===p){for(x=!1,j=3;j<k;j++)if(v[s]===E[j]){x=!0;break}x&&v[f]===g&&!i||(y[b++]=v)}}while(v=v[l]);return"sequence"===w?r(y,g)(S[o]):n(y,g)(S[o])}return t.resolve()}})}),define("troopjs-core/pubsub/hub",["../event/emitter"],function(e){"use strict";var t=e.prototype;return e.create({displayName:"core/pubsub/hub",subscribe:t.on,unsubscribe:t.off,publish:t.emit,republish:t.reemit})}),define("troopjs-core/logger/pubsub",["../component/base","../pubsub/hub"],function(e,t){"use strict";var r=Array.prototype.push,n=t.publish;return e.create({displayName:"core/logger/pubsub",log:function(){var e=["logger/log"];r.apply(e,arguments),n.apply(t,e)},warn:function(){var e=["logger/warn"];r.apply(e,arguments),n.apply(t,e)},debug:function(){var e=["logger/debug"];r.apply(e,arguments),n.apply(t,e)},info:function(){var e=["logger/info"];r.apply(e,arguments),n.apply(t,e)},error:function(){var e=["logger/error"];r.apply(e,arguments),n.apply(t,e)}})}),define("troopjs-core/component/gadget",["../event/emitter","when","../pubsub/hub"],function(e,t,r){"use strict";var n=Array.prototype,i=n.slice,o=n.push,a=r.publish,s=r.republish,u=r.subscribe,c=r.unsubscribe,l=e.prototype,f=l.on,p=l.off,h=l.reemit;return e.extend(function(){this.subscriptions=[]},{displayName:"core/component/gadget","sig/initialize":function(){var e,t,n,i,o,a,s=this,c=s.subscriptions,l=s.constructor.specials.hub;for(n=0,i=l?l.length:0;n<i;n++)t=l[n],(e=c[n]={}).type=o=t.type,e.features=t.features,e.value=a=t.value,u.call(r,o,s,a)},"sig/start":function(){var e,n,i,o=this,a=arguments,u=o.subscriptions,c=[],l=0;for(n=0,i=u.length;n<i;n++)"memory"===(e=u[n]).features&&(c[l++]=s.call(r,e.type,!1,o,e.value));return t.all(c)["yield"](a)},"sig/finalize":function(){var e,t,n,i=this,o=i.subscriptions;for(t=0,n=o.length;t<n;t++)e=o[t],c.call(r,e.type,i,e.value)},"sig/task":function(e){return this.publish("task",e)},reemit:function(e,t,r){var n=this,a=[e,t,n];return o.apply(a,i.call(arguments,2)),h.apply(n,a)},on:function(e,t){var r=this,n=[e,r];return o.apply(n,i.call(arguments,1)),f.apply(r,n)},off:function(e,t){var r=this,n=[e,r];return o.apply(n,i.call(arguments,1)),p.apply(r,n)},publish:function(e,t){return a.apply(r,arguments)},republish:function(e,t,n){var a=[e,t,this];return o.apply(a,i.call(arguments,2)),s.apply(r,a)},subscribe:function(e,t){var n=this,a=[e,n];return o.apply(a,i.call(arguments,1)),u.apply(r,a),n},unsubscribe:function(e,t){var n=this,a=[e,n];return o.apply(a,i.call(arguments,1)),c.apply(r,a),n}})}),define("troopjs-core/component/service",["./gadget"],function(e){"use strict";return e.extend({displayName:"core/component/service","sig/initialize":function(){var e=this;return e.publish("registry/add",e)},"sig/finalize":function(){var e=this;return e.publish("registry/remove",e)}})}),define("troopjs-core/logger/service",["../component/service","troopjs-utils/merge","when"],function(e,t,r){"use strict";function n(e,t){var n=this,i=n.signal,o=[e],a=n[p],s=0;u.apply(o,t);var c=function(){var e;return(e=a[s++])?r(i.apply(e,o),c):r.resolve(t)};return c()}function i(e,r){var n={cat:e,time:(new Date).getTime()};return c.call(r)===l?t.call(n,r):n.msg=r,n}function o(e){var t,r,n=this[p];for(t=0,r=n[f];t<r;t++)n[t].append(e)}var a=Array.prototype,s=a.slice,u=a.push,c=Object.prototype.toString,l="[object Object]",f="length",p="appenders";return e.extend(function(){this[p]=s.call(arguments)},{displayName:"core/logger/service","sig/initialize":function(){return n.call(this,"initialize",arguments)},"sig/start":function(){return n.call(this,"start",arguments)},"sig/stop":function(){return n.call(this,"stop",arguments)},"sig/finalize":function(){return n.call(this,"finalize",arguments)},"hub/logger/log":function(e){o.call(this,i("log",e))},"hub/logger/warn":function(e){o.call(this,i("warn",e))},"hub/logger/debug":function(e){o.call(this,i("debug",e))},"hub/logger/info":function(e){o.call(this,i("info",e))},"hub/logger/error":function(e){o.call(this,i("error",e))}})}),define("troopjs-browser/ajax/service",["troopjs-core/component/service","jquery","troopjs-utils/merge","when"],function(e,t,r,n){"use strict";var i=Array.prototype.slice;return e.extend({displayName:"browser/ajax/service","hub/ajax":function(e){var o=t.ajax(r.call({headers:{"x-request-id":(new Date).getTime()}},e));return n(o,function(){return i.call(arguments)})}})}),define("troopjs-browser/loom/config",["module","troopjs-utils/merge"],function(e,t){"use strict";return t.call({$warp:"$warp",$weft:"$weft",weave:"data-weave",unweave:"data-unweave",woven:"data-woven"},e.config())}),define("troopjs-utils/getargs",[],function(){"use strict";var e=Array.prototype.push,t=String.prototype.substring,r=/^(?:false|true)$/i,n=/^true$/i,i=/^\d+$/;return function(){var o,a,s,u,c,l,f=this,p=[],h=!1;for(a=s=u=0,o=f.length;u<o;u++)switch(c=f.charAt(u)){case'"':case"'":h===c?(h=!1,e.call(p,t.call(f,a,s))):h=c,a=s=u+1;break;case",":if(h){s=u+1;break}a!==s&&(l=t.call(f,a,s),r.test(l)?l=n.test(l):i.test(l)&&(l=+l),e.call(p,l)),a=s=u+1;break;case" ":case"\t":if(h){s=u+1;break}a===s&&(a=s=u+1);break;default:s=u+1}return a!==s&&(l=t.call(f,a,s),r.test(l)?l=n.test(l):i.test(l)&&(l=+l),e.call(p,l)),p}}),define("troopjs-browser/loom/weave",["./config","require","when","jquery","troopjs-utils/getargs","poly/array"],function(e,t,r,n,i){"use strict";var o=Array.prototype,a=o.map,s=o.push,u=e.$warp,c=e.$weft,l=e.weave,f=e.woven,p=/[\s,]+/;return function(){var e=arguments;return r.all(a.call(this,function(o){var a,h,d=n(o),v=d.data(),g=v[u]||(v[u]=[]),y=[],b=d.attr(l)||"",m=/[\s,]*(([\w_\-\/\.]+)(?:\(([^\)]+)\))?)/g,w=function(e){var t=e[c].woven;d.attr(f,function(e,r){var n=[t];return void 0!==r&&s.apply(n,r.split(p)),n.join(" ")})};for(d.removeAttr(l);null!==(h=m.exec(b));)(a=[d,h[2]]).weave=h[1],void 0!==h[3]&&s.apply(a,i.call(h[3]).map(function(e){return e in v?v[e]:e})),s.call(y,a);return r.map(y,function(n){var i=r.promise(function(e,r){t([n[1]],e,r)}).then(function(t){var r;return r=t.apply(t,n),r[c]=i,i.woven=r.toString(),r.start.apply(r,e)["yield"](r)}).otherwise(function(e){throw new Error(e+", error weaving "+n[1])});return i.weave=n.weave,s.call(g,i),r(i,w),i})}))}}),define("troopjs-browser/loom/unweave",["./config","when","jquery","poly/array"],function(e,t,r){"use strict";var n=Array.prototype,i=n.map,o=n.push,a=e.$warp,s=e.$weft,u=e.weave,c=e.woven,l=e.unweave,f=/[\s,]+/;return function(){var e=arguments;return t.all(i.call(this,function(n){var i,p,h,d,v,g=r(n),y=g.data(),b=y[a]||(y[a]=[]),m=[],w=g.attr(l),j=[],x=/[\s,]*([\w_\-\/\.]+)(?:@(\d+))?/g,q=function(e){var t=e[s],r=t.woven,n=t.weave;g.attr(c,function(e,t){var n=[];return void 0!==t&&o.apply(n,t.split(f).filter(function(e){return e!==r})),0===n.length?null:n.join(" ")}).attr(u,function(e,t){var r=[n];return void 0!==t&&o.apply(r,t.split(f)),r.join(" ")})};if(g.removeAttr(l),void 0===w)o.apply(m,b),b.length=0;else{for(;null!==(i=x.exec(w));)o.call(j,"^"+i[1]+"@"+(i[2]||"\\d+")+"$");for(j=new RegExp(j.join("|")),d=v=0,h=b.length;d<h;d++)p=b[d],j.test(p.woven)?o.call(m,p):b[v++]=p;b.length=v}return t.map(m,function(r){var n=r.stop.apply(r,e)["yield"](r);return t(n,q),n})}))}}),define("troopjs-jquery/destroy",["jquery"],function(e){"use strict";e.event.special.destroy={noBubble:!0,trigger:function(){return!1},remove:function(t){var r=this;t&&t.handler.call(r,e.Event({type:t.type,data:t.data,namespace:t.namespace,target:r}))}}}),define("troopjs-browser/component/widget",["troopjs-core/component/gadget","jquery","../loom/config","../loom/weave","../loom/unweave","troopjs-jquery/destroy"],function(e,t,r,n,i){"use strict";function o(e,t){return function(){return t.apply(e,arguments)}}function a(e){function t(t,r){var i=this,o=s.call(arguments,1);return n.call(e.call(i[c],typeof t===u?t.apply(i,o):t).find(l))}return t}var s=Array.prototype.slice,u="function",c="$element",l="["+r.weave+"]",f="["+r.unweave+"]";return e.extend(function(e,t){var r=this;if(void 0===e)throw new Error("No $element provided");r[c]=e,r.$handlers=[],void 0!==t&&(r.displayName=t)},{displayName:"browser/component/widget","sig/initialize":function(){var e,t,r,n,i,a,s,u,l=this,f=l[c],p=l.$handlers,h=l.constructor.specials.dom;for(s=0,u=h?h.length:0;s<u;s++)t=h[s],(e=p[s]={}).type=r=t.type,e.features=n=t.features,e.value=i=t.value,e.proxy=a=o(l,i),f.on(r,n,l,a),i.guid=a.guid},"sig/finalize":function(){var e,t,r,n=this,i=n[c],o=n.$handlers;for(t=0,r=o.length;t<r;t++)e=o[t],i.off(e.type,e.features,e.proxy)},"sig/task":function(e){this[c].trigger("task",[e])},weave:function(){return n.apply(this[c].find(l),arguments)},unweave:function(){return i.apply(this[c].find(f).addBack(),arguments)},"dom/destroy":function(){this.unweave()},before:a(t.fn.before),after:a(t.fn.after),html:a(t.fn.html),text:a(t.fn.text),append:a(t.fn.append),prepend:a(t.fn.prepend)})}),define("troopjs-core/registry/service",["../component/service","poly/object","poly/array"],function(e){"use strict";return e.extend(function(){var e=this;e.services={},e.add(e)},{displayName:"core/registry/service",add:function(e){this.services[e.toString()]=e},remove:function(e){delete this.services[e.toString()]},get:function(e){var t=new RegExp(e),r=this.services;return Object.keys(r).filter(function(e){return t.test(e)}).map(function(e){return r[e]})},"hub/registry/add":function(e){return this.add(e)},"hub/registry/remove":function(e){return this.remove(e)},"hub/registry/get":function(e){return this.get(e)}})}),define("troopjs-browser/application/widget",["module","../component/widget","when","troopjs-core/registry/service","poly/array"],function(e,t,r,n){"use strict";function i(e,t){var n=this,i=n.signal,o=[e],a=n[u].get(),c=0;s.apply(o,t);var l=function(){var e;return(e=a[c++])?r(i.apply(e,o),l):r.resolve(t)};return l()}var o=Array.prototype,a=o.slice,s=o.push,u="registry";return t.extend(function(){var e=this[u]=n();a.call(arguments,2).forEach(function(t){e.add(t)})},{displayName:"browser/application/widget","sig/initialize":function(){return i.call(this,"initialize",arguments)},"sig/start":function(){var e=this,t=e.weave,r=arguments;return i.call(e,"start",r).then(function(){return t.apply(e,r)})},"sig/stop":function(){var e=this,t=arguments;return e.unweave.apply(e,t).then(function(){return i.call(e,"stop",t)})},"sig/finalize":function(){return i.call(this,"finalize",arguments)}})}),define("troopjs-browser/route/uri",["troopjs-core/component/factory"],function(e){"use strict";function t(e){var r,i,o={},a=n,s=/(?:&|^)([^&=]*)=?([^&]*)/g;if(o.toString=t.toString,u.call(e)===c)for(a in e)o[a]=e[a];else for(;(r=s.exec(e))!==n;)(a=r[1])in o?(i=o[a],u.call(i)===l?i[i.length]=r[2]:o[a]=[i,r[2]]):o[a]=r[2];return o}function r(e){var t=[];return t.toString=r.toString,a.apply(t,u.call(e)===l?e:s.call(e,"/")),t}var n=null,i=Array.prototype,o=Object.prototype,a=i.push,s=String.prototype.split,u=o.toString,c=u.call(o),l=u.call(i),f=u.call(Function.prototype),p=/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:([^?#]*)(?:\?([^#]*))?(?:#(.*))?)/,h=["source","protocol","authority","userInfo","user","password","host","port","path","query","anchor"];t.toString=function(){var e,t,r,n,i=this,o=[],a=0;for(e in i)u.call(i[e])!==f&&(o[a++]=e);for(o.sort();a--;)if(e=o[a],t=i[e],u.call(t)===l){for((r=t.slice(0)).sort(),n=r.length;n--;)t=r[n],r[n]=""===t?e:e+"="+t;o[a]=r.join("&")}else o[a]=""===t?e:e+"="+t;return o.join("&")},r.toString=function(){return this.join("/")};var d=e(function(e){var i,o,a,s=this;if((o=p.exec(e))!==n)for(a=o.length;a--;)(i=o[a])&&(s[h[a]]=i);"query"in s&&(s.query=t(s.query)),"path"in s&&(s.path=r(s.path))},{displayName:"browser/route/uri",toString:function(){var e,t,r=this,n=["protocol","://","authority","path","?","query","#","anchor"];"protocol"in r||(n[0]=n[1]=""),"authority"in r||(n[2]=""),"path"in r||(n[3]=""),"query"in r||(n[4]=n[5]=""),"anchor"in r||(n[6]=n[7]=""),e=n.length;for(;e--;)(t=n[e])in r&&(n[e]=r[t]);return n.join("")}});return d.Path=r,d.Query=t,d}),define("troopjs-jquery/hashchange",["jquery"],function(e){"use strict";function t(e){var t=n.exec(e.location.href);return t&&t[1]?decodeURIComponent(t[1]):""}function r(e){var t;this.element=t=e.createElement("iframe"),t.src="about:blank",t.style.display="none"}var n=/#(.*)$/;r.prototype={getElement:function(){return this.element},getHash:function(){return this.element.contentWindow.frameHash},update:function(e){var t=this,r=t.element.contentWindow.document;t.getHash()!==e&&(r.open(),r.write("<html><head><title>' + document.title + '</title><script type='text/javascript'>var frameHash='"+e+"';<\/script></head><body>&nbsp;</body></html>"),r.close())}},e.event.special.hashchange={setup:function(){var r=this;if("onhashchange"in r)return!1;if(!e.isWindow(r))throw new Error("Unable to bind 'hashchange' to a non-window object");var n=e(r),i=t(r);r.location;n.data("interval",r.setInterval(function(){var e,o=i,a=t(r);a!==i&&(e=decodeURIComponent(a),i!==e&&(i=e,n.trigger("hashchange",[e,o])))},25))},teardown:function(){var t=this;if("onhashchange"in t)return!1;t.clearInterval(e.data(t,"interval"))}}}),define("troopjs-browser/route/widget",["../component/widget","./uri","troopjs-jquery/hashchange"],function(e,t){"use strict";function r(e){var r=e.data,n=t(e.target.location.hash.replace(a,"")),i=n.toString();i!==r[o]&&(r[o]=i,r.publish(r.displayName,n,e))}function n(e){this[i].get(0).location.hash=e.toString()}var i="$element",o="route",a=/^#/;return e.extend({displayName:"browser/route/widget","sig/initialize":function(){var e=this;e[i].on("hashchange",e,r),e.subscribe(e.displayName+"/set",n)},"sig/start":function(){this[i].trigger("hashchange")},"sig/finalize":function(){this[i].off("hashchange",r),me.unsubscribe(me.displayName+"/set",n)}})}),define("troopjs-data/store/component",["troopjs-core/component/gadget","when","poly/array"],function(e,t){"use strict";function r(e){var t=this;return e in t&&t[e].apply(t,f.call(arguments,1))}function n(e,r){for(var n,f=this,h=f[p],d=e?e.split("."):[],v=d.pop();h&&(n=d.shift());)switch(s.call(h)){case u:case c:if(n in h){h=h[n];break}default:h=h[n]={}}return s.call(r)===l&&(r=r.call(f,{get:function(){return i.apply(f,arguments)},has:function(){return o.apply(f,arguments)}},e)),v!==a?t(r,function(e){return h[v]=e,e}):t(r)}function i(e){for(var t,r=this[p],n=e.split(".");r&&(t=n.shift());)switch(s.call(r)){case u:case c:if(t in r){r=r[t];break}default:r=a}return r}function o(e){for(var t,r=this[p],n=e.split("."),i=n.pop();r&&(t=n.shift());)switch(s.call(r)){case u:case c:if(t in r){r=r[t];break}default:r=a}return r!==a&&i in r}var a,s=Object.prototype.toString,u="[object Array]",c="[object Object]",l="[object Function]",f=Array.prototype.slice,p="storage";return e.extend(function(e){if(0===arguments.length)throw new Error("No adapter(s) provided");var t=this;t.adapters=f.call(arguments),t[p]={},t.locks={}},{displayName:"data/store/component",lock:function(e,r,n,i){var o=this.locks;if("[object String]"!==s.call(e))throw new Error("key has to be of type string");return o[e]=t(o[e],r,n,i)},get:function(e,n,o,a){var u,c,l=this,p=f.call(arguments);for(u=0,c=p.length;u<c&&"[object String]"===s.call(p[u]);u++);return n=p[u],o=p[u+1],a=p[u+2],p.length=u,t.map(p,function(e){return t.map(l.adapters,function(n){return t(r.call(n,"beforeGet",l,e))}).then(function(){return i.call(l,e)})}).then(function(e){if(n)return n.apply(this,e)},o,a)},put:function(e,i,o,a,s){var u=this;return t(n.call(u,e,i),function(n){return t.map(u.adapters,function(i){return t(r.call(i,"afterPut",u,e,n))})["yield"](n)}).then(o,a,s)},putIfNotHas:function(e,r,n,i,o){var s=this;return s.has(e)?t(a,n,i,o):s.put(e,r,n,i,o)},has:function(e){return o.call(this,e)},clear:function(e,n,i){var o=this;return t.map(o.adapters,function(e){return t(r.call(e,"clear",o))}).then(function(t){if(e)return e.apply(this,t)},n,i)}})}),define("troopjs-data/cache/component",["troopjs-core/component/base"],function(e){"use strict";function t(e,m,w){var j,x,q,E,k,S,N,z,$,A,O,T,I=this,R=I[u];if(d in e)if(e[y]=w,(x=e[d])in I){if(j=I[x],e[b]===n)return j}else j=I[x]=e;else j=e;if(m===s)for(q=0,E=e[h];q<E;q++)m=(T=e[q])===o||T===r?r:T[p],j[q]=m===a||m===s&&0!==T[h]?t.call(I,T,m,w):T;else if(m===a){if(e[b]===i)for(O in j)O===d||O===b||O===g||O in e||delete j[O];for(O in e)O===d||O===b&&j[b]===i||(m=(T=e[O])===o||T===r?r:T[p],j[O]=m===a||m===s&&0!==T[h]?t.call(I,T,m,w):T)}e:if(x!==r){if(k=0|w+(j[v]>>>0),g in j){if((S=j[g])===k)break e;S in R&&delete R[S][x]}if(j[b]!==n)if(j[g]=k,k in R)R[k][x]=j;else if((A=R[k]={})[f]=k,A[x]=j,R[c]!==r){for(z=N=R[c];($=z[l])!==r&&$[f]<k;z=$);z===N&&z[f]>k?(A[l]=z,R[c]=A):(A[l]=z[l],z[l]=A)}else R[c]=A}return j}var r,n=!0,i=!1,o=null,a=Object,s=Array,u="generations",c="head",l="next",f="expires",p="constructor",h="length",d="id",v="maxAge",g="expires",y="indexed",b="collapsed";return e.extend(function(e){var t=this;t.age=e||6e4,t[u]={}},{displayName:"data/cache/component","sig/start":function(){var e=this,t=e[u];e.interval="interval"in e?e.interval:setInterval(function(){var n,i,o=0|(new Date).getTime()/1e3;if((i=t[c])!==r){do{if(i[f]>o)break;for(n in i)n!==f&&n!==l&&n!==u&&delete e[n];delete t[i[f]]}while(i=i[l]);t[c]=i}},e.age)},"sig/stop":function(){var e=this;"interval"in e&&(clearInterval(e.interval),delete e.interval)},"sig/finalize":function(){var e,t=this;for(e in t)t[e][p]===a&&d in t[e]&&delete t[e]},put:function(e){var n=this,i=e===o||e===r?r:e[p];return i===a||i===s&&0!==e[h]?t.call(n,e,i,0|(new Date).getTime()/1e3):e}})}),define("troopjs-data/query/component",["troopjs-core/component/base"],function(e){"use strict";var t=Object,r=Array,n="op",i="text",o="raw",a="resolved",s="_ast",u=/("|')(.*?)\1/,c=/!(.*[!,|.\s]+.*)/;return e.extend(function(e){var t=this;void 0!==e&&(t._query=e)},{displayName:"data/query/component",parse:function(e){var t=this;delete t[s];var r,a,c,l,f,p,h=[];for(r=l=0,a=(e=t._query=e||t._query||"").length;r<a;r++)switch(c=e.charAt(r)){case'"':case"'":f=f===c?void 0:f||c;break;case"!":if(void 0!==f)break;(p={})[n]=c;break;case".":case",":if(void 0!==f)break;void 0!==p&&(p[o]=(p[i]=e.substring(l,r)).replace(u,"$2"),h.push(p)),(p={})[n]=c,l=r+1;break;case"|":case" ":case"\t":case"\r":case"\n":if(void 0!==f)break;void 0!==p&&(p[o]=(p[i]=e.substring(l,r)).replace(u,"$2"),h.push(p)),p=void 0,l=r+1}return void 0!==p&&(p[o]=(p[i]=e.substring(l,a)).replace(u,"$2"),h.push(p)),t[s]=h,t},reduce:function(e){var u=this,l=0|(new Date).getTime()/1e3;s in u||u.parse();var f,p,h,d,v,g,y,b,m=u[s],w=[],j=!1,x=!1;for(f=0,d=m.length;f<d;f++)switch((v=m[f])[n]){case"!":y=v,(g=v[o])in e?(b=e[g],j=v[a]=!0!==b.collapsed&&!("expires"in b&&b.expires<l)):(b=void 0,j=v[a]=!1);break;case".":if(g=v[o],j)if(b&&g in b)if(b=b[g],(h=b.constructor)===r){for(v[a]=!0,p=b.length;p-- >0;)if((h=b[p]).constructor===t&&"id"in h&&(!0===h.collapsed||"expires"in h&&h.expires<l)){v[a]=!1;break}}else h===t&&"id"in b?(v[n]="!",v[i]=(v[o]=b.id).replace(c,"!'$1'"),v[a]=!0!==b.collapsed&&!("expires"in b&&b.expires<l)):v[a]=!0;else b=void 0,v[a]=!1;else v[a]=!1;break;case",":b=e[g=y[o]],v[n]="!",v[i]=y[i],v[o]=g,v[a]=y[a]}for(;d-- >0;)switch((v=m[d])[n]){case"!":(x||!0!==v[a])&&w.unshift(v),x=!1;break;case".":w.unshift(v),x=!0}return u[s]=w,u},ast:function(){var e=this;return s in e||e.parse(),e[s]},rewrite:function(){var e=this;s in e||e.parse();var t,r,o,a=e[s],u="";for(r=0,t=a.length;r<t;r++)switch((o=a[r])[n]){case"!":u+=0===r?o[i]:"|"+o[i];break;case".":u+="."+o[i]}return u}})}),define("troopjs-data/query/service",["module","troopjs-core/component/service","./component","troopjs-utils/merge","when"],function(e,t,r,n,i){"use strict";function o(){function e(e){var t,r,n,i,o;for(c.put(e),i=j[f];i--;){for(r=(t=j[i])[y],n=t[m],o=r[f];o--;)o in n&&(r[o]=c[n[o]]);t.resolve(r)}}function t(e){return new Error(e)}function r(e){return new Error(e)}function i(e){return new Error(e)}function a(e){return new Error(e)}function s(e){var n,o,s=e.status;for(o=j[f];o--;){var u,c="Troop Query "+(n=j[o])[y]+" failed with status="+s+" "+e.statusText+" q="+k;u=0===s?t(c):s>=500?r(c):s>=400?i(c):a(c),n.reject(u)}}var u=this,c=u[g],j=u[p],E=(new Date).getTime();if(E-u[d]<q&&E-u[v]<x)u[h]=setTimeout(o.bind(u),x);else{u[h]=0,u[p]=[];for(var k=[],S=j[f];S--;)l.apply(k,j[S][w]);k=k.join("|"),function(){return u.publish("ajax",n.call({data:{q:k}},u[b]))}().then(e,s)}}function a(){var e=this,t=(new Date).getTime();e[v]=t,e[h]||(e[d]=t,e[h]=setTimeout(o.bind(e),x))}var s=Array.prototype,u=s.slice,c=s.concat,l=s.push,f="length",p="batches",h="scanTimeoutId",d="scanFirstRequestTime",v="scanLastRequestTime",g="cache",y="queries",b="configuration",m="id",w="q",j=e.config(),x=20,q=200;return t.extend(function(e){var t=this;if(void 0===e)throw new Error("No cache provided");t[p]=[],t[g]=e,t[h]=0,t.configure(j)},{displayName:"data/query/service","sig/stop":function(){var e=this;e[h]&&(clearTimeout(e[h]),e[h]=0)},"hub/query":function(){var e,t,n,o,h,d,v=this,b=v[p],j=v[g],x=[],q=[],E=i.defer(),k=E.resolver;try{for(t=0,o=(h=c.apply(s,u.call(arguments)))[f];t<o;t++)for((e=(d=r(h[t])).ast())[f]>0&&(q[t]=e[0].raw),n=(e=d.reduce(j).ast())[f];n-- >0;)if(!e[n].resolved){l.call(x,d.rewrite());break}if(0===x[f]){for(t=0;t<o;t++)t in q&&(h[t]=j[q[t]]);k.resolve(h)}else k[y]=h,k[m]=q,k[w]=x,b.push(k),a.call(v)}catch(S){k.reject(S)}return E.promise}})}),define("troopjs-data/component/widget",["troopjs-browser/component/widget"],function(e){"use strict";var t=Array.prototype.push;return e.extend({displayName:"data/component/widget",query:function(){var e=this,r=["query"];return t.apply(r,arguments),e.publish.apply(e,r)}})}),define("troopjs-requirejs/template",[],function(){"use strict";function e(e){function u(e,t,r){return f[p]=t?'" +'+r+'+ "':'";'+r+'o += "',"<%"+String(p++)+"%>"}function c(e,t){return f[t]}function l(e,t){return s[t]||t}var f=[],p=0;return('function template(data) { var o = "'+e.replace(t,"").replace(r,u).replace(i,l).replace(n,c)+'"; return o; }').replace(o,a)}var t=/^[\n\t\r]+|[\n\t\r]+$/g,r=/<%(=)?([\S\s]*?)%>/g,n=/<%(\d+)%>/gm,i=/(["\n\t\r])/gm,o=/o \+= "";| \+ ""/gm,a="",s={'"':'\\"',"\n":"\\n","\t":"\\t","\r":"\\r"},u={},c={node:function(){var e=require.nodeRequire("fs");return function(t,r){var n=e.readFileSync(t,"utf8");0===n.indexOf("\ufeff")&&(n=n.substring(1)),r(n)}},browser:function(){var e,t,r,n=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"];if("undefined"!=typeof XMLHttpRequest)t=XMLHttpRequest;else{for(r=0;r<3;r++){e=n[r];try{new ActiveXObject(e),t=function(){return new ActiveXObject(e)};break}catch(i){}}if(!t)throw new Error("XHR: XMLHttpRequest not available")}return function(e,r){var n=new t;n.open("GET",e,!0),n.onreadystatechange=function(){4===n.readyState&&r(n.responseText)},n.send(null)}},rhino:function(){var e=java.lang.System.getProperty("line.separator");return function(t,r){var n,i=new java.io.File(t),o=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(i),"utf-8")),a=new java.lang.StringBuffer,s="";try{for((n=o.readLine())&&n.length()&&65279===n.charAt(0)&&(n=n.substring(1)),a.append(n);null!==(n=o.readLine());)a.append(e),a.append(n);s=String(a.toString())}finally{o.close()}r(s)}},borked:function(){return function(){throw new Error("Environment unsupported.")}}}["undefined"!=typeof process&&process.versions&&process.versions.node?"node":"undefined"!=typeof window&&window.navigator&&window.document||"undefined"!=typeof importScripts?"browser":"undefined"!=typeof Packages?"rhino":"borked"]();return{load:function(t,r,n,i){var o=r.toUrl(t);c(o,function(a){try{a="define(function() { return "+e(a,i.template)+"; })"}catch(s){throw s.message="In "+o+", "+s.message,s}i.isBuild?u[t]=a:a+="\n//@ sourceURL='"+o+"'",n.fromText(t,a),r([t],function(e){n(e)})})},write:function(e,t,r){u.hasOwnProperty(t)&&r.asModule(e+"!"+t,u[t])}}}),define("troopjs-requirejs/multiversion",[],function(){"use strict";var e=/(.+?)#(.+)$/,t=require.s.contexts;return{load:function(r,n,i){var o,a;null!==(a=e.exec(r))&&(r=a[1],(o=a[2])in t&&(n=t[o].require)),n([r],function(e){i(e)},i.error)}}}),define("troopjs-requirejs/shadow",["text"],function(e){"use strict";function t(e,t){for(var r,i=/([^=&]+)=([^&]+)/g,o=[],a=[];t&&(r=i.exec(t));)r[1]===n?e+=";\nreturn "+r[2]+";\n":(o.push("'"+r[2]+"'"),a.push(r[1]));return"define([ "+o.join(", ")+" ], function ("+a.join(", ")+") {\n"+e+"});"}function r(e,t){var r,n,i;for(e=e.split("."),t=t.split("."),n=Math.min(e.length,t.length),i=0;i<n;i++)if(0!==(r=parseInt(e[i],null)-parseInt(t[i],null)))return r;return e.length-t.length}var n="exports",i=/(.+?)#(.+)$/,o=/^empty:/,a=require.version,s={};return{load:function(n,u,c,l){var f,p,h,d,v=n;(f=i.exec(n))&&(v=f[1],p=f[2]),d=u.toUrl(v+".js"),o.test(d)?c(void 0):e.get(d,function(e){h=t(e,p),l.isBuild&&(s[n]=h),c.fromText(n,h),r(a,"2.1.0")<0&&u([n],c)})},write:function(e,t,r){var n;t in s&&(n=s[t],r.asModule(e+"!"+t,n))}}}),define("troopjs-browser/loom/woven",["./config","when","jquery","poly/array"],function(e,t,r){"use strict";var n=Array.prototype.map,i=e.$warp;return function(){var e,o=[],a=0;return arguments.length>0?(e=RegExp(n.call(arguments,function(e){return"^"+e}).join("|"),"m"),r(this).each(function(n,s){var u=(r.data(s,i)||[]).filter(function(t){return e.test(t.woven)});o[a++]=t.all(u)})):r(this).each(function(e,n){o[a++]=t.all(r.data(n,i))}),t.all(o)}}),define("troopjs-jquery/loom",["jquery","when","troopjs-browser/loom/config","troopjs-browser/loom/weave","troopjs-browser/loom/unweave","troopjs-browser/loom/woven","troopjs-utils/getargs","poly/array"],function(e,t,r,n,i,o,a){"use strict";function s(t){return e(t).attr(h)!==c}function u(t){return e(t).attr(d)!==c}var c,l=e.fn,f=e.expr,p=f.createPseudo,h=r.weave,d=r.woven,v=/[\s,]+/;f[":"].weave=p?p(function(t){return t===c?s:(t=new RegExp(a.call(t).map(function(e){return"^"+e}).join("|"),"m"),function(r){var n=e(r).attr(h);return n!==c&&t.test(n.replace(v,"\n"))})}):function(t,r,n){var i=e(t).attr(h);return i!==c&&(n===c||new RegExp(a.call(n[3]).map(function(e){return"^"+e}).join("|"),"m").test(i.replace(v,"\n")))},f[":"].woven=p?p(function(t){return t===c?u:(t=new RegExp(a.call(t).map(function(e){return"^"+e}).join("|"),"m"),function(r){var n=e(r).attr(d);return n!==c&&t.test(n.replace(v,"\n"))})}):function(t,r,n){var i=e(t).attr(d);return i!==c&&(n===c||new RegExp(a.call(n[3]).map(function(e){return"^"+e}).join("|"),"m").test(i.replace(v,"\n")))},l.weave=n,l.unweave=i,l.woven=o}),define("troopjs-jquery/noconflict",["jquery"],function(e){"use strict";return e.noConflict(!0)}),define("troopjs-core/pubsub/proxy/to1x",["../../component/service","when","poly/array","poly/object"],function(e,t){"use strict";function r(e){return Boolean(e)&&"function"==typeof e.resolve}var n=Array.prototype,i=n.push,o=n.slice,a=Object.keys,s=Object.prototype.toString,u="hub",c="topic";return e.extend(function(e){this.settings=o.call(arguments)},{displayName:"core/pubsub/proxy/to1x","sig/initialize":function(){var e=this;e.settings.forEach(function(n){if(!(u in n))throw new Error("'hub' is missing from setting");var l=n.publish||{},f=n.subscribe||{},p=n[u];a(l).forEach(function(r){var n,a,u=l[r];if("[object String]"===s.call(u))n=u,a=!1;else{if(!(c in u))throw new Error("'topic' is missing from target '"+r+"'");n=u[c],a=!!u.defer}var f=l[r]=function(){var e,r,s=[n];return i.apply(s,o.call(arguments)),a&&(e=t.defer(),r=e.resolve,e.resolve=e.resolver.resolve=function(){r(o.call(arguments))},i.call(s,e)),p.publish.apply(p,s),e?e.promise:void 0};f[c]=n,f.defer=a,e.subscribe(r,f)}),a(f).forEach(function(n){var a,u,l=f[n];if("[object String]"===s.call(l))a=l,u=!1;else{if(!(c in l))throw new Error("'topic' is missing from target '"+n+"'");a=l[c],u=!!l.memory}var h=f[n]=function(){var n,s,u=[a];return i.apply(u,o.call(arguments,1)),r(u[u.length-1])&&(n=u.pop()),s=e.publish.apply(e,u),n&&t(s,function(e){return n.resolve.apply(this,e)},n.reject,n.notify),s};h[c]=a,h.memory=u,p.subscribe(n,e,u,h)})})},"sig/finalize":function(){var e=this;e.settings.forEach(function(t){if(!(u in t))throw new Error("'hub' is missing from setting");var r=t.publish||{},n=t.subscribe||{},i=t[u];a(r).forEach(function(t){e.unsubscribe(t,r[t])}),a(n).forEach(function(t){i.unsubscribe(t,e,n[t])})})}})}),define("troopjs-core/pubsub/proxy/to2x",["../../component/service","when","poly/array","poly/object"],function(e,t){"use strict";var r=Array.prototype,n=r.push,i=r.slice,o=Object.keys,a=Object.prototype.toString,s="hub",u="topic";return e.extend(function(e){this.settings=i.call(arguments)},{displayName:"core/pubsub/proxy/to2x","sig/initialize":function(){var e=this;e.settings.forEach(function(t){if(!(s in t))throw new Error("'hub' is missing from setting");var r=t.publish||{},c=t.subscribe||{},l=t[s];o(r).forEach(function(t){var o,s=r[t];if("[object String]"===a.call(s))o=s;else{if(!(u in s))throw new Error("'topic' is missing from target '"+t+"'");o=s[u]}var c=r[t]=function(){var e=[o];return n.apply(e,i.call(arguments)),l.publish.apply(l,e)};c[u]=o,e.subscribe(t,c)}),o(c).forEach(function(t){var r,o,s=c[t];if("[object String]"===a.call(s))r=s,o=!1;else{if(!(u in s))throw new Error("'topic' is missing from target '"+t+"'");r=s[u],o=!!s.republish}var f=c[t]=function(){var t=[r];return n.apply(t,i.call(arguments)),e.publish.apply(e,t)};f[u]=r,f.republish=o,l.subscribe(t,e,f)})})},"sig/start":function(){var e=this,r=[];return e.settings.forEach(function(t){if(!(s in t))throw new Error("'hub' is missing from setting");var n=t.subscribe||{},i=t[s];o(n).forEach(function(t){var o=n[t];!0===o.republish&&r.push(i.republish(t,!1,e,o))})}),t.all(r)},"sig/finalize":function(){var e=this;e.settings.forEach(function(t){if(!(s in t))throw new Error("'hub' is missing from setting");var r=t.publish||{},n=t.subscribe||{},i=t[s];o(r).forEach(function(t){e.unsubscribe(t,r[t])}),o(n).forEach(function(t){i.unsubscribe(t,e,n[t])})})}})}),define("troopjs-browser/store/adapter/base",["troopjs-core/component/gadget"],function(e){"use strict";return e.extend({displayName:"browser/store/adapter/base",afterPut:function(e,t,r){this.storage.setItem(t,JSON.stringify(r))},beforeGet:function(e,t){return e.put(t,JSON.parse(this.storage.getItem(t)))},clear:function(){return this.storage.clear()}})}),define("troopjs-browser/store/adapter/local",["./base"],function(e){"use strict";return e.extend({displayName:"browser/store/adapter/local",storage:window.localStorage})}),define("troopjs-browser/store/adapter/session",["./base"],function(e){"use strict";return e.extend({displayName:"browser/store/adapter/session",storage:window.sessionStorage})}),define("troopjs-jquery/dimensions",["jquery"],function(e){"use strict";function t(e,t){return t-e}function r(){var t=this,r=e(t),i=r.width(),c=r.height();e.each(e.data(t,n),function(e,t){var l,f,p,h=t[o],d=t[a];for(l=h[(p=h.length)-1];h[--p]<i;)l=h[p];for(f=d[(p=d.length)-1];d[--p]<c;)f=d[p];l===t[s]&&f===t[u]||(t[s]=l,t[u]=f,r.trigger(n+"."+e,[l,f]))})}var n="dimensions",i="resize."+n,o="w",a="h",s="_"+o,u="_"+a;e.event.special[n]={setup:function(){e(this).bind(i,r).data(n,{})},add:function(r){for(var i,s=this,u=r.namespace,c={},l=c[o]=[],f=c[a]=[],p=/(w|h)(\d+)/g;null!==(i=p.exec(u));)c[i[1]].push(parseInt(i[2],10));l.sort(t),f.sort(t),e.data(s,n)[u]=c},remove:function(t){delete e.data(this,n)[t.namespace]},teardown:function(){e(this).removeData(n).unbind(i,r)}}}),define("troopjs-jquery/resize",["jquery"],function(e){"use strict";function t(t,r){var a=e.data(r),s=e(r),u=s.width(),c=s.height();u===a[i]&&c===a[o]||(a[i]=u,a[o]=c,s.trigger(n,[u,c]))}function r(){a.each(t)}var n="resize",i="w",o="h",a=e([]),s=null;e.event.special[n]={setup:function(){var t=this;if(e.isWindow(t))return!1;var u=e.data(t,n,{}),c=e(t);u[i]=c.width(),u[o]=c.height(),1===(a=a.add(t)).length&&(s=setInterval(r,100))},teardown:function(){var t=this;if(e.isWindow(t))return!1;e.removeData(t,n),0===(a=a.not(t)).length&&null!==s&&clearInterval(s)}}}),define("troopjs-browser/dimensions/widget",["../component/widget","troopjs-jquery/dimensions","troopjs-jquery/resize"],function(e){"use strict";function t(e,t,r){var n=e.data;n.publish(n.displayName,t,r,e)}return e.extend(function(e,t,r){if(void 0===r)throw new Error("No dimensions provided");this.dimensions=r},{displayName:"browser/dimensions/widget","sig/initialize":function(){var e=this;e.$element.on("dimensions."+e.dimensions,e,t)},"sig/start":function(){this.$element.trigger("resize.dimensions")},"sig/finalize":function(){var e=this;e.$element.off("dimensions."+e.dimensions,t)}})}),define("troopjs/version",[],function(){return"2.0.2-8"}),define(["troopjs/version"],function(e){return e});
//# sourceMappingURL=maxi.min.js.map